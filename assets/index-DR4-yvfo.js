import{r as l,_ as Se,d as ke,e as te,h as xe,i as Ne,k as Ce,m as Y,n as de,T as $e,o as _e,q as Ee,s as Be,t as Ie,K as Oe,v as Pe,C as Ae,w as Le,R as Te,x as Fe,y as Re,j as r,z as ue,u as We,a as De,b as Me,l as U,A as ge,f as Ue,B as le,D as Ve,E as ie,F as Xe,G as He}from"./index-XRI2Zuhs.js";import{G as je,P as me,u as ee,a as Je}from"./useRequest-DPXUNwp8.js";import{R as ze,V as q}from"./index-C3_dq6-e.js";import{V as Ke}from"./index-DgZcODGp.js";import{T as Ge}from"./index-OYB7TihJ.js";var qe={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},Ye=function(){var e=l.useRef([]),n=l.useRef(null);return l.useEffect(function(){var s=Date.now(),a=!1;e.current.forEach(function(c){if(c){a=!0;var i=c.style;i.transitionDuration=".3s, .3s, .3s, .06s",n.current&&s-n.current<100&&(i.transitionDuration="0s, 0s")}}),a&&(n.current=Date.now())}),e.current},be=0,Qe=ke();function Ze(){var t;return Qe?(t=be,be+=1):t="TEST_OR_SSR",t}const et=function(t){var e=l.useState(),n=Se(e,2),s=n[0],a=n[1];return l.useEffect(function(){a("rc_progress_".concat(Ze()))},[]),t||s};var pe=function(e){var n=e.bg,s=e.children;return l.createElement("div",{style:{width:"100%",height:"100%",background:n}},s)};function he(t,e){return Object.keys(t).map(function(n){var s=parseFloat(n),a="".concat(Math.floor(s*e),"%");return"".concat(t[n]," ").concat(a)})}var tt=l.forwardRef(function(t,e){var n=t.prefixCls,s=t.color,a=t.gradientId,c=t.radius,i=t.style,o=t.ptg,d=t.strokeLinecap,f=t.strokeWidth,u=t.size,p=t.gapDegree,m=s&&te(s)==="object",w=m?"#FFF":void 0,x=u/2,h=l.createElement("circle",{className:"".concat(n,"-circle-path"),r:c,cx:x,cy:x,stroke:w,strokeLinecap:d,strokeWidth:f,opacity:o===0?0:1,style:i,ref:e});if(!m)return h;var y="".concat(a,"-conic"),S=p?"".concat(180+p/2,"deg"):"0deg",j=he(s,(360-p)/360),P=he(s,1),v="conic-gradient(from ".concat(S,", ").concat(j.join(", "),")"),N="linear-gradient(to ".concat(p?"bottom":"top",", ").concat(P.join(", "),")");return l.createElement(l.Fragment,null,l.createElement("mask",{id:y},h),l.createElement("foreignObject",{x:0,y:0,width:u,height:u,mask:"url(#".concat(y,")")},l.createElement(pe,{bg:N},l.createElement(pe,{bg:v}))))}),re=100,ce=function(e,n,s,a,c,i,o,d,f,u){var p=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,m=s/100*360*((360-i)/360),w=i===0?0:{bottom:0,top:180,left:90,right:-90}[o],x=(100-a)/100*n;f==="round"&&a!==100&&(x+=u/2,x>=n&&(x=n-.01));var h=re/2;return{stroke:typeof d=="string"?d:void 0,strokeDasharray:"".concat(n,"px ").concat(e),strokeDashoffset:x+p,transform:"rotate(".concat(c+m+w,"deg)"),transformOrigin:"".concat(h,"px ").concat(h,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},rt=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function ve(t){var e=t??[];return Array.isArray(e)?e:[e]}var nt=function(e){var n=xe(xe({},qe),e),s=n.id,a=n.prefixCls,c=n.steps,i=n.strokeWidth,o=n.trailWidth,d=n.gapDegree,f=d===void 0?0:d,u=n.gapPosition,p=n.trailColor,m=n.strokeLinecap,w=n.style,x=n.className,h=n.strokeColor,y=n.percent,S=Ne(n,rt),j=re/2,P=et(s),v="".concat(P,"-gradient"),N=j-i/2,k=Math.PI*2*N,B=f>0?90+f/2:-90,C=k*((360-f)/360),_=te(c)==="object"?c:{count:c,gap:2},g=_.count,J=_.gap,W=ve(y),$=ve(h),D=$.find(function(O){return O&&te(O)==="object"}),A=D&&te(D)==="object",I=A?"butt":m,z=ce(k,C,0,100,B,f,u,p,I,i),T=Ye(),L=function(){var V=0;return W.map(function(M,X){var Q=$[X]||$[$.length-1],K=ce(k,C,V,M,B,f,u,Q,I,i);return V+=M,l.createElement(tt,{key:X,color:Q,ptg:M,radius:N,prefixCls:a,gradientId:v,style:K,strokeLinecap:I,strokeWidth:i,gapDegree:f,ref:function(b){T[X]=b},size:re})}).reverse()},E=function(){var V=Math.round(g*(W[0]/100)),M=100/g,X=0;return new Array(g).fill(null).map(function(Q,K){var F=K<=V-1?$[0]:p,b=F&&te(F)==="object"?"url(#".concat(v,")"):void 0,G=ce(k,C,X,M,B,f,u,F,"butt",i,J);return X+=(C-G.strokeDashoffset+J)*100/C,l.createElement("circle",{key:K,className:"".concat(a,"-circle-path"),r:N,cx:j,cy:j,stroke:b,strokeWidth:i,opacity:1,style:G,ref:function(R){T[K]=R}})})};return l.createElement("svg",Ce({className:Y("".concat(a,"-circle"),x),viewBox:"0 0 ".concat(re," ").concat(re),style:w,id:s,role:"presentation"},S),!g&&l.createElement("circle",{className:"".concat(a,"-circle-trail"),r:N,cx:j,cy:j,stroke:p,strokeLinecap:I,strokeWidth:o||i,style:z}),g?E():L())};function H(t){return!t||t<0?0:t>100?100:t}function ne(t){let{success:e,successPercent:n}=t,s=n;return e&&"progress"in e&&(s=e.progress),e&&"percent"in e&&(s=e.percent),s}const st=t=>{let{percent:e,success:n,successPercent:s}=t;const a=H(ne({success:n,successPercent:s}));return[a,H(H(e)-a)]},at=t=>{let{success:e={},strokeColor:n}=t;const{strokeColor:s}=e;return[s||de.green,n||null]},ae=(t,e,n)=>{var s,a,c,i;let o=-1,d=-1;if(e==="step"){const f=n.steps,u=n.strokeWidth;typeof t=="string"||typeof t>"u"?(o=t==="small"?2:14,d=u??8):typeof t=="number"?[o,d]=[t,t]:[o=14,d=8]=Array.isArray(t)?t:[t.width,t.height],o*=f}else if(e==="line"){const f=n==null?void 0:n.strokeWidth;typeof t=="string"||typeof t>"u"?d=f||(t==="small"?6:8):typeof t=="number"?[o,d]=[t,t]:[o=-1,d=8]=Array.isArray(t)?t:[t.width,t.height]}else(e==="circle"||e==="dashboard")&&(typeof t=="string"||typeof t>"u"?[o,d]=t==="small"?[60,60]:[120,120]:typeof t=="number"?[o,d]=[t,t]:Array.isArray(t)&&(o=(a=(s=t[0])!==null&&s!==void 0?s:t[1])!==null&&a!==void 0?a:120,d=(i=(c=t[0])!==null&&c!==void 0?c:t[1])!==null&&i!==void 0?i:120));return[o,d]},ot=3,lt=t=>ot/t*100,it=t=>{const{prefixCls:e,trailColor:n=null,strokeLinecap:s="round",gapPosition:a,gapDegree:c,width:i=120,type:o,children:d,success:f,size:u=i,steps:p}=t,[m,w]=ae(u,"circle");let{strokeWidth:x}=t;x===void 0&&(x=Math.max(lt(m),6));const h={width:m,height:w,fontSize:m*.15+6},y=l.useMemo(()=>{if(c||c===0)return c;if(o==="dashboard")return 75},[c,o]),S=st(t),j=a||o==="dashboard"&&"bottom"||void 0,P=Object.prototype.toString.call(t.strokeColor)==="[object Object]",v=at({success:f,strokeColor:t.strokeColor}),N=Y(`${e}-inner`,{[`${e}-circle-gradient`]:P}),k=l.createElement(nt,{steps:p,percent:p?S[1]:S,strokeWidth:x,trailWidth:x,strokeColor:p?v[1]:v,strokeLinecap:s,trailColor:n,prefixCls:e,gapDegree:y,gapPosition:j}),B=m<=20,C=l.createElement("div",{className:N,style:h},k,!B&&d);return B?l.createElement($e,{title:d},C):C},se="--progress-line-stroke-color",we="--progress-percent",ye=t=>{const e=t?"100%":"-100%";return new Oe(`antProgress${t?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${e}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${e}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},ct=t=>{const{componentCls:e,iconCls:n}=t;return{[e]:Object.assign(Object.assign({},Be(t)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:t.fontSize},[`${e}-outer`]:{display:"inline-flex",alignItems:"center",width:"100%"},[`${e}-inner`]:{position:"relative",display:"inline-block",width:"100%",flex:1,overflow:"hidden",verticalAlign:"middle",backgroundColor:t.remainingColor,borderRadius:t.lineBorderRadius},[`${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:t.defaultColor}},[`${e}-success-bg, ${e}-bg`]:{position:"relative",background:t.defaultColor,borderRadius:t.lineBorderRadius,transition:`all ${t.motionDurationSlow} ${t.motionEaseInOutCirc}`},[`${e}-layout-bottom`]:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",[`${e}-text`]:{width:"max-content",marginInlineStart:0,marginTop:t.marginXXS}},[`${e}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${se})`]},height:"100%",width:`calc(1 / var(${we}) * 100%)`,display:"block"},[`&${e}-bg-inner`]:{minWidth:"max-content","&::after":{content:"none"},[`${e}-text-inner`]:{color:t.colorWhite,[`&${e}-text-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}},[`${e}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:t.colorSuccess},[`${e}-text`]:{display:"inline-block",marginInlineStart:t.marginXS,color:t.colorText,lineHeight:1,width:"2em",whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[n]:{fontSize:t.fontSize},[`&${e}-text-outer`]:{width:"max-content"},[`&${e}-text-outer${e}-text-start`]:{width:"max-content",marginInlineStart:0,marginInlineEnd:t.marginXS}},[`${e}-text-inner`]:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",marginInlineStart:0,padding:`0 ${Ie(t.paddingXXS)}`,[`&${e}-text-start`]:{justifyContent:"start"},[`&${e}-text-end`]:{justifyContent:"end"}},[`&${e}-status-active`]:{[`${e}-bg::before`]:{position:"absolute",inset:0,backgroundColor:t.colorBgContainer,borderRadius:t.lineBorderRadius,opacity:0,animationName:ye(),animationDuration:t.progressActiveMotionDuration,animationTimingFunction:t.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${e}-rtl${e}-status-active`]:{[`${e}-bg::before`]:{animationName:ye(!0)}},[`&${e}-status-exception`]:{[`${e}-bg`]:{backgroundColor:t.colorError},[`${e}-text`]:{color:t.colorError}},[`&${e}-status-exception ${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:t.colorError}},[`&${e}-status-success`]:{[`${e}-bg`]:{backgroundColor:t.colorSuccess},[`${e}-text`]:{color:t.colorSuccess}},[`&${e}-status-success ${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:t.colorSuccess}}})}},dt=t=>{const{componentCls:e,iconCls:n}=t;return{[e]:{[`${e}-circle-trail`]:{stroke:t.remainingColor},[`&${e}-circle ${e}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${e}-circle ${e}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:t.circleTextColor,fontSize:t.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[n]:{fontSize:t.circleIconFontSize}},[`${e}-circle&-status-exception`]:{[`${e}-text`]:{color:t.colorError}},[`${e}-circle&-status-success`]:{[`${e}-text`]:{color:t.colorSuccess}}},[`${e}-inline-circle`]:{lineHeight:1,[`${e}-inner`]:{verticalAlign:"bottom"}}}},ut=t=>{const{componentCls:e}=t;return{[e]:{[`${e}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:t.progressStepMinWidth,marginInlineEnd:t.progressStepMarginInlineEnd,backgroundColor:t.remainingColor,transition:`all ${t.motionDurationSlow}`,"&-active":{backgroundColor:t.defaultColor}}}}}},mt=t=>{const{componentCls:e,iconCls:n}=t;return{[e]:{[`${e}-small&-line, ${e}-small&-line ${e}-text ${n}`]:{fontSize:t.fontSizeSM}}}},ft=t=>({circleTextColor:t.colorText,defaultColor:t.colorInfo,remainingColor:t.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${t.fontSize/t.fontSizeSM}em`}),xt=_e("Progress",t=>{const e=t.calc(t.marginXXS).div(2).equal(),n=Ee(t,{progressStepMarginInlineEnd:e,progressStepMinWidth:e,progressActiveMotionDuration:"2.4s"});return[ct(n),dt(n),ut(n),mt(n)]},ft);var gt=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(n[s[a]]=t[s[a]]);return n};const bt=t=>{let e=[];return Object.keys(t).forEach(n=>{const s=parseFloat(n.replace(/%/g,""));isNaN(s)||e.push({key:s,value:t[n]})}),e=e.sort((n,s)=>n.key-s.key),e.map(n=>{let{key:s,value:a}=n;return`${a} ${s}%`}).join(", ")},pt=(t,e)=>{const{from:n=de.blue,to:s=de.blue,direction:a=e==="rtl"?"to left":"to right"}=t,c=gt(t,["from","to","direction"]);if(Object.keys(c).length!==0){const o=bt(c),d=`linear-gradient(${a}, ${o})`;return{background:d,[se]:d}}const i=`linear-gradient(${a}, ${n}, ${s})`;return{background:i,[se]:i}},ht=t=>{const{prefixCls:e,direction:n,percent:s,size:a,strokeWidth:c,strokeColor:i,strokeLinecap:o="round",children:d,trailColor:f=null,percentPosition:u,success:p}=t,{align:m,type:w}=u,x=i&&typeof i!="string"?pt(i,n):{[se]:i,background:i},h=o==="square"||o==="butt"?0:void 0,y=a??[-1,c||(a==="small"?6:8)],[S,j]=ae(y,"line",{strokeWidth:c}),P={backgroundColor:f||void 0,borderRadius:h},v=Object.assign(Object.assign({width:`${H(s)}%`,height:j,borderRadius:h},x),{[we]:H(s)/100}),N=ne(t),k={width:`${H(N)}%`,height:j,borderRadius:h,backgroundColor:p==null?void 0:p.strokeColor},B={width:S<0?"100%":S},C=l.createElement("div",{className:`${e}-inner`,style:P},l.createElement("div",{className:Y(`${e}-bg`,`${e}-bg-${w}`),style:v},w==="inner"&&d),N!==void 0&&l.createElement("div",{className:`${e}-success-bg`,style:k})),_=w==="outer"&&m==="start",g=w==="outer"&&m==="end";return w==="outer"&&m==="center"?l.createElement("div",{className:`${e}-layout-bottom`},C,d):l.createElement("div",{className:`${e}-outer`,style:B},_&&d,C,g&&d)},vt=t=>{const{size:e,steps:n,percent:s=0,strokeWidth:a=8,strokeColor:c,trailColor:i=null,prefixCls:o,children:d}=t,f=Math.round(n*(s/100)),p=e??[e==="small"?2:14,a],[m,w]=ae(p,"step",{steps:n,strokeWidth:a}),x=m/n,h=new Array(n);for(let y=0;y<n;y++){const S=Array.isArray(c)?c[y]:c;h[y]=l.createElement("div",{key:y,className:Y(`${o}-steps-item`,{[`${o}-steps-item-active`]:y<=f-1}),style:{backgroundColor:y<=f-1?S:i,width:x,height:w}})}return l.createElement("div",{className:`${o}-steps-outer`},h,d)};var yt=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(n[s[a]]=t[s[a]]);return n};const jt=["normal","exception","active","success"],wt=l.forwardRef((t,e)=>{const{prefixCls:n,className:s,rootClassName:a,steps:c,strokeColor:i,percent:o=0,size:d="default",showInfo:f=!0,type:u="line",status:p,format:m,style:w,percentPosition:x={}}=t,h=yt(t,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:y="end",type:S="outer"}=x,j=Array.isArray(i)?i[0]:i,P=typeof i=="string"||Array.isArray(i)?i:void 0,v=l.useMemo(()=>{if(j){const L=typeof j=="string"?j:Object.values(j)[0];return new Pe(L).isLight()}return!1},[i]),N=l.useMemo(()=>{var L,E;const O=ne(t);return parseInt(O!==void 0?(L=O??0)===null||L===void 0?void 0:L.toString():(E=o??0)===null||E===void 0?void 0:E.toString(),10)},[o,t.success,t.successPercent]),k=l.useMemo(()=>!jt.includes(p)&&N>=100?"success":p||"normal",[p,N]),{getPrefixCls:B,direction:C,progress:_}=l.useContext(Ae),g=B("progress",n),[J,W,$]=xt(g),D=u==="line",A=D&&!c,I=l.useMemo(()=>{if(!f)return null;const L=ne(t);let E;const O=m||(M=>`${M}%`),V=D&&v&&S==="inner";return S==="inner"||m||k!=="exception"&&k!=="success"?E=O(H(o),H(L)):k==="exception"?E=D?l.createElement(Te,null):l.createElement(Fe,null):k==="success"&&(E=D?l.createElement(Re,null):l.createElement(ze,null)),l.createElement("span",{className:Y(`${g}-text`,{[`${g}-text-bright`]:V,[`${g}-text-${y}`]:A,[`${g}-text-${S}`]:A}),title:typeof E=="string"?E:void 0},E)},[f,o,N,k,u,g,m]);let z;u==="line"?z=c?l.createElement(vt,Object.assign({},t,{strokeColor:P,prefixCls:g,steps:typeof c=="object"?c.count:c}),I):l.createElement(ht,Object.assign({},t,{strokeColor:j,prefixCls:g,direction:C,percentPosition:{align:y,type:S}}),I):(u==="circle"||u==="dashboard")&&(z=l.createElement(it,Object.assign({},t,{strokeColor:j,prefixCls:g,progressStatus:k}),I));const T=Y(g,`${g}-status-${k}`,{[`${g}-${u==="dashboard"&&"circle"||u}`]:u!=="line",[`${g}-inline-circle`]:u==="circle"&&ae(d,"circle")[0]<=20,[`${g}-line`]:A,[`${g}-line-align-${y}`]:A,[`${g}-line-position-${S}`]:A,[`${g}-steps`]:c,[`${g}-show-info`]:f,[`${g}-${d}`]:typeof d=="string",[`${g}-rtl`]:C==="rtl"},_==null?void 0:_.className,s,a,W,$);return J(l.createElement("div",Object.assign({ref:e,style:Object.assign(Object.assign({},_==null?void 0:_.style),w),className:T,role:"progressbar","aria-valuenow":N,"aria-valuemin":0,"aria-valuemax":100},Le(h,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),z))}),St=({title:t,sub_title:e,className:n="",sub_className:s=""})=>r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`mx-auto max-w-352.5 text-center font-Urbanist text-[4rem] font-black leading-[4.75rem] text-white ${e?"mb-8":"mb-[4.5rem]"} ${n}`,children:t}),e&&r.jsx("p",{className:`mx-auto mb-[4.5rem] max-w-352.5 text-center font-Urbanist text-2xl leading-7 ${s}`,children:e})]}),kt=()=>je("/pow/web3b/unSignweb/platform/stake"),Nt=()=>je("/pow/web3b/unSignweb/epoch/info"),Ct=()=>me("/pow/web3b/signWeb/wallet/stakeInfo",{connectInfo:ue("solana_provider")}),$t=()=>me("/pow/web3b/signWeb/staking/history",{connectInfo:ue("solana_provider")}),_t=()=>me("/pow/web3b/signWeb/pos/claim",{connectInfo:ue("solana_provider")}),At=()=>{const t=l.useRef(null),{t:e}=We(),{context:n,setSelect:s}=De(),{operate:a,evaluation:c}=n||{},{lamports:i,decimals:o}=Me(a.splBalanceEmitter)??{},d=l.useMemo(()=>i?U(i,o):i===0?"0":"--",[i,o]),f=l.useMemo(()=>!!(c&&window.solana),[c]),{data:u,run:p}=ee(kt,{debounceWait:300}),{data:m,run:w}=ee(Nt,{debounceWait:300}),{data:x,runAsync:h}=ee(Ct,{debounceWait:300,manual:!0}),{data:y,runAsync:S}=ee($t,{debounceWait:300,manual:!0}),{loading:j,runAsync:P}=ee(_t,{debounceWait:300,manual:!0}),[v,N]=l.useState(null),[k,B]=l.useState(!1),[C,_]=l.useState(!1),[g,J]=l.useState(!1),[W,$]=l.useState(!1),[D,A]=l.useState(!1),[I,z]=l.useState("claim"),[T,L]=l.useState(!0),[E,O]=l.useState(0),[V,M]=l.useState(window.innerWidth);Je(async()=>{s("SOLANA"),p(),w()}),l.useEffect(()=>{const b=()=>{M(window.innerWidth)};return window.addEventListener("resize",b),()=>{window.removeEventListener("resize",b)}},[]),l.useEffect(()=>{c&&(async()=>(await h(),await S()))()},[c]);const X=async()=>{if(W)return;$(!0);try{const{availableToClaim:R}=await h();if(R===0){ie.error(e("common.not_enough"));return}}catch(R){console.log(R),$(!1)}if(!f){$(!1);return}const b=window.commonInfo.current().signerAddress,G=window.commonInfo.current().stakeOutFee,Z=window.solana.publicKey.toBase58();if(!(Z&&window.solana.publicKey.toBase58())){$(!1);return}try{const R=await Xe(Z,b,G);R.add(He("WEBT_CLAIM_POS"));const fe=await window.solana.signAndSendTransaction(R);if(!fe){$(!1);return}console.log("【pos claim】"+b+" fee signature:"+JSON.stringify(fe));const oe=await P().finally(()=>$(!1));F("claim",oe.code===0,oe.posClaimNum?Number(U(oe.posClaimNum,o)):null),await h()}catch(R){console.log(R),$(!1)}},Q=()=>{if(Number(v)>Number(d)){ie.error(e("node.stake_tips"));return}B(!0),a.possStake(o||o===0?Number(v)*Math.pow(10,o):Number(v)).then(async()=>{!o&&o!==0||(F("stake",!0,Number(v)),p(),w(),await h(),await S())}).catch(()=>F("stake",!1,null)).finally(()=>B(!1))},K=async()=>{const{totalStaked:b}=await h();if(Number(v)>Number(U(b,o))){ie.error(e("node.unstake_tips"));return}_(!0),a.possUnstake(o||o===0?Number(v)*Math.pow(10,o):Number(v)).then(async()=>{!o&&o!==0||(F("unstake",!0,Number(v)),p(),w(),await h(),await S())}).catch(()=>F("unstake",!1,null)).finally(()=>_(!1))},F=(b,G,Z)=>{z(b),L(G),G&&O(Z),A(!0)};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"content relative mx-auto w-full bg-auto bg-right-top bg-no-repeat px-5",style:{backgroundImage:`url(${OSS_URL}/images/earn/banner_bg.png)`},children:[r.jsxs("div",{className:"earn-banner relative z-10 mx-auto mb-52 flex max-w-[97.5rem] items-start justify-center gap-5 pt-5 font-Urbanist",children:[r.jsxs("div",{className:"earn-banner-l mr-auto shrink-0 pt-48",children:[r.jsxs("p",{className:"earn-banner-title mb-1 text-8xl font-semibold",children:[r.jsx("span",{className:"text-[#9B40F7]",children:e("node.stake")})," JVSC"]}),r.jsxs("p",{className:"earn-banner-subtitle max-w-full text-2xl leading-9",children:[e("earn.stake_text1"),r.jsx("br",{}),e("earn.stake_text2")]})]}),r.jsxs("div",{className:"earn-banner-r flex flex-col gap-5",children:[r.jsxs("div",{className:"earn-banner-card earn-banner-card1 flex h-[31.875rem] w-[31.25rem] flex-shrink flex-col items-center justify-center rounded-3xl border-2 border-[rgba(201,158,244,0.2)] bg-gradient-to-r from-[rgba(2,2,2,.2)] to-[rgba(20,20,20,.2)] px-9 backdrop-blur-xl",children:[r.jsx("p",{className:"earn-banner-card-title mb-2.5 text-5xl font-bold leading-none text-[#9B40F7]",children:u&&u.apr?(ge(u.apr,o)*100).toFixed(2)+"%":"--"}),r.jsx("p",{className:"earn-banner-card-subtitle text-3xl text-[#B1B1B1]",children:"Current APR"}),r.jsx("p",{className:"earn-banner-card-text mb-16 mt-14 text-center text-2xl font-semibold leading-7 text-[#9C9C9C]",children:e("earn.stake_text3")}),r.jsx("div",{className:"earn-banner-btn-stake w-[55%] cursor-pointer rounded-[1.75rem] bg-[#9B40F7] text-center font-Arimo text-xl font-bold leading-[3.5rem] shadow-[0_0_26px_0_rgba(147,139,247,0.32),_inset_0_1px_3px_0_rgba(0,0,0,0.25)]",onClick:()=>t.current.scrollIntoView({behavior:"smooth"}),children:e("earn.stake_now")})]}),r.jsxs("div",{className:"earn-banner-card flex h-[14.125rem] w-[31.25rem] flex-shrink flex-col justify-center gap-4 rounded-3xl border-2 border-[rgba(201,158,244,0.2)] bg-gradient-to-r from-[rgba(2,2,2,.2)] to-[rgba(20,20,20,.2)] px-7.5 backdrop-blur-xl",children:[r.jsxs("p",{className:"earn-banner-card-jvsc text-4xl font-bold leading-none",children:[f&&x?U(x==null?void 0:x.availableToClaim,o):"--",r.jsx("span",{className:"ml-2 font-normal",children:"$JVSC"})]}),r.jsx("p",{className:"earn-banner-card-text2 text-2xl text-[#B1B1B1]",children:e("node.available_to_claim")}),r.jsxs("div",{className:`earn-banner-btn-claim left-btn mr-auto box-border flex h-[3rem] w-60 flex-shrink-0 items-center justify-center gap-1.5 rounded-full border text-center text-xl font-bold text-white ${f?j||W?"cursor-not-allowed border-[#9B40F7] bg-[rgba(30,30,30,0.5)]":x&&x.availableToClaim>0?"cursor-pointer border-[#9B40F7] bg-[#9B40F7]":"cursor-not-allowed border-[rgba(144,144,144,0.3)] bg-[rgba(30,30,30,0.5)]":"cursor-pointer border-[rgba(144,144,144,0.3)] bg-[rgba(30,30,30,0.5)]"}`,onClick:()=>{if(!f){a==null||a.connect();return}x&&x.availableToClaim>0&&X()},children:[j||W&&r.jsx("img",{className:"block h-6 w-6 animate-spin object-contain",src:`${OSS_URL}/images/loading.svg`,alt:"load"}),e(j||W?"earn.claiming":"earn.claim")]})]})]}),r.jsxs("div",{className:"earn-banner-r flex flex-col gap-5",children:[r.jsxs("div",{className:"earn-banner-card flex h-[22.5rem] w-[26.25rem] flex-shrink flex-col justify-center rounded-3xl border-2 border-[rgba(201,158,244,0.2)] bg-gradient-to-r from-[rgba(2,2,2,.2)] to-[rgba(20,20,20,.2)] px-8 backdrop-blur-xl",children:[r.jsxs("p",{className:"earn-banner-card-jvsc text-4xl font-bold leading-none",children:[u?Ue(Number(U(u==null?void 0:u.totalValueLocked,o))):"--",r.jsx("span",{className:"ml-2 font-normal",children:"$JVSC"})]}),r.jsxs("p",{className:"earn-banner-card-text2 mb-10 mt-2.5 text-[1.75rem] leading-8 text-[#B1B1B1]",children:["TVL ",r.jsx("span",{className:"text-xl",children:"(PoS)"})]}),r.jsx("p",{className:"earn-banner-card-text text-2xl leading-7 text-[#9C9C9C]",children:e("earn.tvl_text")})]}),r.jsxs("div",{className:"earn-banner-card flex h-[22.5rem] w-[26.25rem] flex-shrink flex-col justify-center rounded-3xl border-2 border-[rgba(201,158,244,0.2)] bg-gradient-to-r from-[rgba(2,2,2,.2)] to-[rgba(20,20,20,.2)] px-8 backdrop-blur-xl",children:[r.jsxs("p",{className:"earn-banner-card-jvsc text-4xl font-bold leading-none",children:[f&&x?U(x==null?void 0:x.totalStaked,o):"--",r.jsx("span",{className:"ml-2 font-normal",children:"$JVSC"})]}),r.jsx("p",{className:"earn-banner-card-text2 mb-10 mt-2.5 text-[1.75rem] leading-8 text-[#B1B1B1]",children:e("earn.total_staked")}),r.jsxs("p",{className:"earn-banner-card-link cursor-pointer text-xl font-bold leading-5 text-[#9B40F7]",onClick:()=>window.open("https://t.me/jarvisbot_ai_bot"),children:[e("earn.stake_on_TON"),r.jsx("i",{className:"i-ri:arrow-right-up-line ml-1.5 text-xl leading-none"})]})]})]})]}),r.jsx("div",{ref:t,className:"staking mx-auto mb-8 max-w-352.5 text-center font-Urbanist text-[4rem] font-black leading-[4.75rem] text-white",children:e("node.staking")}),r.jsx("p",{className:"staking-text mx-auto mb-[4.5rem] max-w-352.5 text-center font-Urbanist text-2xl leading-7",children:e("earn.sub_title")}),r.jsxs("div",{className:"staking-chat mx-auto mb-30 flex max-w-352.5 gap-7.5 font-Urbanist",children:[r.jsxs(q,{className:"chat-box mx-0 flex w-220 gap-20 p-15 pl-22.5",children:[r.jsxs("div",{className:"chat-box-info relative h-115 w-115",children:[r.jsx(wt,{type:"circle",percent:(m&&m.currentEpochDayNum?m.currentEpochDayNum-1:0)/30*100,steps:{count:90,gap:1},trailColor:"#494949",strokeColor:"#9B40F7",strokeWidth:14,className:"chat-pro",size:V>1024?460:204,showInfo:!1}),r.jsxs("div",{className:"chat-text absolute left-1/2 top-0 z-10 flex h-full w-fit -translate-x-1/2 flex-col justify-center gap-2",children:[r.jsxs("p",{className:"text-first mb-2 text-center text-xl leading-5 text-[#B1B1B1]",children:[e("earn.total_released_bf"),m==null?void 0:m.epochNum,e("earn.total_released_af")]}),r.jsx("p",{className:"text-center text-4xl",children:m&&m.currentEpochReward?U(m.currentEpochReward,o):"--"}),r.jsxs("p",{className:"text-center text-2xl leading-5 text-[#B1B1B1]",children:["/",m&&m.totalEpochReward?U(m.totalEpochReward,o)+" JVSC":"-- JVSC"]})]})]}),r.jsxs("div",{className:"chat-info flex flex-1 flex-col justify-center gap-7.5",children:[r.jsxs("div",{className:"flex w-full items-center gap-2.5",children:[r.jsx("i",{className:"block h-5 w-5 rounded-full bg-[#494949]"}),r.jsx("span",{className:"text-xl",children:e("earn.unreleased_days")})]}),r.jsxs("div",{className:"flex w-full items-center gap-2.5",children:[r.jsx("i",{className:"block h-5 w-5 rounded-full bg-[#9B40F7]"}),r.jsx("span",{className:"text-xl",children:e("earn.released_days")})]})]})]}),r.jsxs("div",{className:"jvs-box flex flex-1 overflow-hidden",children:[r.jsxs(q,{className:`mx-0 flex w-full flex-shrink-0 flex-col p-7.5 transition-all duration-300 ease-linear ${g?"-translate-x-full":""}`,children:[r.jsxs("div",{className:"jvs-item mb-2.5 flex justify-between",children:[r.jsx("p",{className:"jvs-label text-xl font-semibold leading-6",children:e("earn.network")}),r.jsxs("p",{className:"jvs-label cursor-pointer text-base leading-5 text-[#9B40F7]",onClick:()=>J(!0),children:[e("earn.history")," ",r.jsx("i",{className:"i-ri:arrow-right-s-line !text-[#A6A6A6]"})]})]}),r.jsxs("div",{className:"jvs-input relative mb-7.5 flex h-15.5 flex-col justify-center rounded-md border border-solid border-[#3B3A45] bg-[#1F1E2B] pl-[3.75rem] pr-3.5",children:[r.jsx("img",{className:"absolute left-[0.75rem] top-[0.625rem] block h-[2.375rem] w-[2.375rem] object-contain",src:`${OSS_URL}/images/home/solana_logo.png`}),r.jsx("p",{className:"text-base leading-5",children:"Solana"}),r.jsx("p",{className:"text-xs text-[#787A8D]",children:"SOL"})]}),r.jsxs("p",{className:"jvs-label mb-2.5 flex items-center justify-between text-xl font-semibold leading-6",children:[e("node.enter_amount")," ",r.jsxs("span",{className:"jvs-label text-sm leading-4",children:[e("node.your_balance"),": ",d||"0"," JVSC"]})]}),r.jsxs("div",{className:"jvs-enter mb-7.5 flex h-15.5 items-center rounded-md border border-solid border-[#3B3A45] bg-[#1F1E2B] px-2 pr-3.5",children:[r.jsx("div",{className:"enter-left flex h-11.5 w-25 items-center justify-center rounded-md bg-[#3B3B4F] text-base font-semibold",children:"JVSC"}),r.jsx(Ge,{className:"enter-info flex-1 rounded-md !border-[transparent] bg-[#1F1E2B] font-Urbanist text-2xl text-[#B1B1B1] focus-within:bg-[#1F1E2B] focus-within:shadow-none hover:bg-[#1F1E2B] focus:bg-[#1F1E2B] focus:shadow-none",value:v,onChange:b=>N(b),size:"large",min:1,controls:!1,precision:0,disabled:k||C}),r.jsx("span",{className:"jvs-label flex-shrink-0 cursor-pointer text-base font-semibold text-[#9B40F7]",onClick:()=>{N(d?Math.round(Number(d)):null)},children:e("node.max")})]}),r.jsxs("p",{className:"jvs-label mb-4 flex items-center justify-between text-base leading-5",children:[e("earn.APR"),r.jsx("span",{className:"font-bold",children:u&&u.apr?(ge(u.apr,o)*100).toFixed(2)+" %":"--"})]}),r.jsxs("p",{className:"jvs-label last-label mb-auto flex items-center justify-between text-base leading-5",children:[e("earn.JVS_current_price"),r.jsx("span",{className:"font-bold",children:"-- $"})]}),c?r.jsxs(r.Fragment,{children:[r.jsxs(le,{type:"primary",className:`jvs-btn mb-2.5 h-12 bg-[#9B40F7] font-Urbanist text-xl font-bold ${k?"cursor-not-allowed border !border-[#9B40F7] bg-[transparent] hover:!bg-[transparent]":""}`,block:!0,disabled:v===null||isNaN(Number(v)),onClick:Q,children:[k&&r.jsx("img",{className:"block h-6 w-6 animate-spin object-contain",src:`${OSS_URL}/images/loading.svg`,alt:"load"}),e(k?"node.staking":"node.stake")]}),r.jsxs(le,{className:`jvs-btn h-12 border-[rgba(122,122,122,0.2)] bg-[#262626] font-Urbanist text-xl font-bold ${C?"cursor-not-allowed border !border-[#9B40F7] bg-[transparent] hover:!bg-[transparent]":""}`,block:!0,disabled:v===null||isNaN(Number(v)),onClick:K,children:[C&&r.jsx("img",{className:"block h-6 w-6 animate-spin object-contain",src:`${OSS_URL}/images/loading.svg`,alt:"load"}),e(C?"node.unstaking":"node.unstake")]})]}):r.jsx(le,{type:"primary",className:"jvs-btn h-12 bg-[#9B40F7] font-Urbanist text-xl font-bold",onClick:()=>a==null?void 0:a.connect(),block:!0,children:e("earn.connect_wallet")})]}),r.jsxs(q,{className:`mx-0 flex w-full flex-shrink-0 flex-col py-7.5 transition-all duration-300 ease-linear ${g?"-translate-x-full":""}`,children:[r.jsxs("div",{className:"history-box relative mb-5 px-7.5",children:[r.jsxs("span",{className:"left-7.5 absolute flex cursor-pointer items-center text-lg text-[#818181]",onClick:()=>J(!1),children:[r.jsx("i",{className:"i-ri:arrow-left-s-line !text-[#A6A6A6]"}),e("earn.back")]}),r.jsx("p",{className:"w-full text-center text-xl leading-6",children:e("earn.history")})]}),r.jsx(Ve.Scrollbars,{style:{width:"100%",height:"100%"},autoHide:!0,autoHideTimeout:1e3,autoHideDuration:200,renderThumbHorizontal:b=>r.jsx("div",{...b,className:"thumb-horizontal"}),renderThumbVertical:b=>r.jsx("div",{...b,className:"thumb-vertical"}),children:r.jsx("div",{className:"flex flex-col gap-2 px-7.5",children:f&&y&&y.length>0?y.map(b=>r.jsxs("div",{className:"rounded bg-[rgba(98,98,98,0.21)] px-5",children:[r.jsxs("div",{className:"flex h-12 items-center justify-between border-b border-[rgba(235,238,245,0.1)] pt-1.5",children:[r.jsx("span",{className:"text-[#C0C0C0]",children:b.time}),r.jsxs("span",{className:`flex items-center gap-2 ${b.type===3?"text-[#9B40F7]":b.type===4?"text-[#545888]":"text-[#2AEDA7]"}`,children:[r.jsx("i",{className:`block h-2 w-2 rounded-full ${b.type===3?"bg-[#9B40F7]":b.type===4?"bg-[#545888]":"bg-[#2AEDA7]"}`}),b.type===3?"Stake":b.type===4?"Unstake":"Claim"]})]}),r.jsxs("p",{className:"pb-4.5 pt-5 text-right text-2xl leading-6",children:[U(b.points,o)," JVSC"]})]},b.time)):r.jsx("p",{className:"py-14 text-center font-Urbanist text-base text-white",children:"No data"})})})]})]})]}),r.jsx(St,{title:e("earn.why_stake_your_JVS"),className:"bottom-info",sub_className:"bottom-info-sub",sub_title:e("earn.sub_title")}),r.jsxs("div",{className:"bottom-list mx-auto mb-30 flex max-w-352.5 gap-7.5 font-Urbanist",children:[r.jsxs(q,{className:"list-card relative flex flex-1 flex-col items-center justify-start gap-7.5 py-12",children:[r.jsx("img",{className:"block h-45 w-45 object-contain",src:`${OSS_URL}/images/earn/reward.png`}),r.jsx("p",{className:"card-title mt-2.5 text-2xl font-bold leading-7",children:e("earn.earn_rewards")}),r.jsx("p",{className:"flex w-full items-center px-12 text-center text-base transition-all",children:e("earn.both_computational_power")})]}),r.jsxs(q,{className:"list-card relative flex flex-1 flex-col items-center justify-start gap-7.5 py-10",children:[r.jsx("img",{className:"block h-45 w-45 object-contain",src:`${OSS_URL}/images/earn/network.png`}),r.jsx("p",{className:"card-title mt-2.5 text-2xl font-bold leading-7",children:e("earn.support_the_network")}),r.jsx("p",{className:"flex w-full items-center px-12 text-center text-base transition-all",children:e("earn.by_staking_tokens")})]}),r.jsxs(q,{className:"list-card relative flex flex-1 flex-col items-center justify-start gap-7.5 py-10",children:[r.jsx("img",{className:"block h-45 w-45 object-contain",src:`${OSS_URL}/images/earn/community.png`}),r.jsx("p",{className:"card-title mt-2.5 text-2xl font-bold leading-7",children:e("earn.decentralized_governance")}),r.jsx("p",{className:"flex w-full items-center px-12 text-center text-base transition-all",children:e("earn.through_a_decentralized")})]})]})]}),r.jsx(Ke,{open:D,icon:`${OSS_URL}/images/${T?"confirm_success":"confirm_error"}.png`,title:e(T?"node.congratulations":I==="claim"?"node.claiming_failed":I==="stake"?"node.staking_failed":"node.unstaking_failed"),desc:e(T?I==="claim"?"node.tip1":I==="stake"?"node.tip3":"node.tip5":"node.tip2"),okText:T?"OK":"Close",onOk:()=>A(!1),onCancel:()=>A(!1),children:r.jsx("div",{className:"mb-36 flex items-center justify-center font-Urbanist text-2xl font-bold text-white",children:T?`${E} JVSC`:""})})]})};export{At as default};
