import{r as n,I as Kt,k as me,_ as M,H as Xt,J as st,h as oe,L as qt,e as Ke,M as Jt,N as Yt,O as Q,m as Z,P as Qt,Q as ce,S as Zt,U as ct,V as Ue,W as ea,i as Me,X as ta,Y as aa,Z as dt,$ as na,a0 as ra,a1 as ut,o as ia,q as oa,t as C,s as _t,a2 as la,a3 as $t,C as sa,a4 as ca,x as da,a5 as ua,a6 as fa,u as wt,a as Ct,b as Et,l as de,j as d,z as Te,a7 as ma,B as ft,E as va,F as ba,G as ga}from"./index-XRI2Zuhs.js";import{G as pa,P as Se,u as pe,a as ha}from"./useRequest-DPXUNwp8.js";import{V as ye}from"./index-C3_dq6-e.js";import{V as xa}from"./index-DgZcODGp.js";import{V as ya,F as Sa}from"./index-DGGBZKSQ.js";import{i as _a,L as $a}from"./index-7y6Rwc6-.js";import{T as wa}from"./index-CWYTNAAu.js";import{I as Ca,S as Ea}from"./Pagination-DKpXJPYw.js";var Ta={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},Na=function(t,a){return n.createElement(Kt,me({},t,{ref:a,icon:Ta}))},Ra=n.forwardRef(Na);const Be=n.createContext(null);var Ia=function(t){var a=t.activeTabOffset,r=t.horizontal,i=t.rtl,l=t.indicator,s=l===void 0?{}:l,o=s.size,c=s.align,u=c===void 0?"center":c,f=n.useState(),g=M(f,2),$=g[0],N=g[1],k=n.useRef(),R=Xt.useCallback(function(p){return typeof o=="function"?o(p):typeof o=="number"?o:p},[o]);function E(){st.cancel(k.current)}return n.useEffect(function(){var p={};if(a)if(r){p.width=R(a.width);var v=i?"right":"left";u==="start"&&(p[v]=a[v]),u==="center"&&(p[v]=a[v]+a.width/2,p.transform=i?"translateX(50%)":"translateX(-50%)"),u==="end"&&(p[v]=a[v]+a.width,p.transform="translateX(-100%)")}else p.height=R(a.height),u==="start"&&(p.top=a.top),u==="center"&&(p.top=a.top+a.height/2,p.transform="translateY(-50%)"),u==="end"&&(p.top=a.top+a.height,p.transform="translateY(-100%)");return E(),k.current=st(function(){N(p)}),E},[a,r,i,u,R]),{style:$}},mt={width:0,height:0,left:0,top:0};function Pa(e,t,a){return n.useMemo(function(){for(var r,i=new Map,l=t.get((r=e[0])===null||r===void 0?void 0:r.key)||mt,s=l.left+l.width,o=0;o<e.length;o+=1){var c=e[o].key,u=t.get(c);if(!u){var f;u=t.get((f=e[o-1])===null||f===void 0?void 0:f.key)||mt}var g=i.get(c)||oe({},u);g.right=s-g.left-g.width,i.set(c,g)}return i},[e.map(function(r){return r.key}).join("_"),t,a])}function vt(e,t){var a=n.useRef(e),r=n.useState({}),i=M(r,2),l=i[1];function s(o){var c=typeof o=="function"?o(a.current):o;c!==a.current&&t(c,a.current),a.current=c,l({})}return[a.current,s]}var La=.1,bt=.01,ze=20,gt=Math.pow(.995,ze);function ja(e,t){var a=n.useState(),r=M(a,2),i=r[0],l=r[1],s=n.useState(0),o=M(s,2),c=o[0],u=o[1],f=n.useState(0),g=M(f,2),$=g[0],N=g[1],k=n.useState(),R=M(k,2),E=R[0],p=R[1],v=n.useRef();function j(w){var L=w.touches[0],x=L.screenX,_=L.screenY;l({x,y:_}),window.clearInterval(v.current)}function z(w){if(i){w.preventDefault();var L=w.touches[0],x=L.screenX,_=L.screenY;l({x,y:_});var b=x-i.x,T=_-i.y;t(b,T);var V=Date.now();u(V),N(V-c),p({x:b,y:T})}}function D(){if(i&&(l(null),p(null),E)){var w=E.x/$,L=E.y/$,x=Math.abs(w),_=Math.abs(L);if(Math.max(x,_)<La)return;var b=w,T=L;v.current=window.setInterval(function(){if(Math.abs(b)<bt&&Math.abs(T)<bt){window.clearInterval(v.current);return}b*=gt,T*=gt,t(b*ze,T*ze)},ze)}}var B=n.useRef();function W(w){var L=w.deltaX,x=w.deltaY,_=0,b=Math.abs(L),T=Math.abs(x);b===T?_=B.current==="x"?L:x:b>T?(_=L,B.current="x"):(_=x,B.current="y"),t(-_,-_)&&w.preventDefault()}var I=n.useRef(null);I.current={onTouchStart:j,onTouchMove:z,onTouchEnd:D,onWheel:W},n.useEffect(function(){function w(b){I.current.onTouchStart(b)}function L(b){I.current.onTouchMove(b)}function x(b){I.current.onTouchEnd(b)}function _(b){I.current.onWheel(b)}return document.addEventListener("touchmove",L,{passive:!1}),document.addEventListener("touchend",x,{passive:!0}),e.current.addEventListener("touchstart",w,{passive:!0}),e.current.addEventListener("wheel",_,{passive:!1}),function(){document.removeEventListener("touchmove",L),document.removeEventListener("touchend",x)}},[])}function Tt(e){var t=n.useState(0),a=M(t,2),r=a[0],i=a[1],l=n.useRef(0),s=n.useRef();return s.current=e,qt(function(){var o;(o=s.current)===null||o===void 0||o.call(s)},[r]),function(){l.current===r&&(l.current+=1,i(l.current))}}function ka(e){var t=n.useRef([]),a=n.useState({}),r=M(a,2),i=r[1],l=n.useRef(typeof e=="function"?e():e),s=Tt(function(){var c=l.current;t.current.forEach(function(u){c=u(c)}),t.current=[],l.current=c,i({})});function o(c){t.current.push(c),s()}return[l.current,o]}var pt={width:0,height:0,left:0,top:0,right:0};function za(e,t,a,r,i,l,s){var o=s.tabs,c=s.tabPosition,u=s.rtl,f,g,$;return["top","bottom"].includes(c)?(f="width",g=u?"right":"left",$=Math.abs(a)):(f="height",g="top",$=-a),n.useMemo(function(){if(!o.length)return[0,0];for(var N=o.length,k=N,R=0;R<N;R+=1){var E=e.get(o[R].key)||pt;if(E[g]+E[f]>$+t){k=R-1;break}}for(var p=0,v=N-1;v>=0;v-=1){var j=e.get(o[v].key)||pt;if(j[g]<$){p=v+1;break}}return p>=k?[0,0]:[p,k]},[e,t,r,i,l,$,c,o.map(function(N){return N.key}).join("_"),u])}function ht(e){var t;return e instanceof Map?(t={},e.forEach(function(a,r){t[r]=a})):t=e,JSON.stringify(t)}var Ma="TABS_DQ";function Nt(e){return String(e).replace(/"/g,Ma)}function Rt(e,t,a,r){return!(!a||r||e===!1||e===void 0&&(t===!1||t===null))}var It=n.forwardRef(function(e,t){var a=e.prefixCls,r=e.editable,i=e.locale,l=e.style;return!r||r.showAdd===!1?null:n.createElement("button",{ref:t,type:"button",className:"".concat(a,"-nav-add"),style:l,"aria-label":(i==null?void 0:i.addAriaLabel)||"Add tab",onClick:function(o){r.onEdit("add",{event:o})}},r.addIcon||"+")}),xt=n.forwardRef(function(e,t){var a=e.position,r=e.prefixCls,i=e.extra;if(!i)return null;var l,s={};return Ke(i)==="object"&&!n.isValidElement(i)?s=i:s.right=i,a==="right"&&(l=s.right),a==="left"&&(l=s.left),l?n.createElement("div",{className:"".concat(r,"-extra-content"),ref:t},l):null}),Ba=n.forwardRef(function(e,t){var a=e.prefixCls,r=e.id,i=e.tabs,l=e.locale,s=e.mobile,o=e.more,c=o===void 0?{}:o,u=e.style,f=e.className,g=e.editable,$=e.tabBarGutter,N=e.rtl,k=e.removeAriaLabel,R=e.onTabClick,E=e.getPopupContainer,p=e.popupClassName,v=n.useState(!1),j=M(v,2),z=j[0],D=j[1],B=n.useState(null),W=M(B,2),I=W[0],w=W[1],L=c.icon,x=L===void 0?"More":L,_="".concat(r,"-more-popup"),b="".concat(a,"-dropdown"),T=I!==null?"".concat(_,"-").concat(I):null,V=l==null?void 0:l.dropdownAriaLabel;function ee(y,A){y.preventDefault(),y.stopPropagation(),g.onEdit("remove",{key:A,event:y})}var S=n.createElement(Jt,{onClick:function(A){var F=A.key,G=A.domEvent;R(F,G),D(!1)},prefixCls:"".concat(b,"-menu"),id:_,tabIndex:-1,role:"listbox","aria-activedescendant":T,selectedKeys:[I],"aria-label":V!==void 0?V:"expanded dropdown"},i.map(function(y){var A=y.closable,F=y.disabled,G=y.closeIcon,q=y.key,ae=y.label,Y=Rt(A,G,g,F);return n.createElement(Yt,{key:q,id:"".concat(_,"-").concat(q),role:"option","aria-controls":r&&"".concat(r,"-panel-").concat(q),disabled:F},n.createElement("span",null,ae),Y&&n.createElement("button",{type:"button","aria-label":k||"remove",tabIndex:0,className:"".concat(b,"-menu-item-remove"),onClick:function(J){J.stopPropagation(),ee(J,q)}},G||g.removeIcon||"×"))}));function K(y){for(var A=i.filter(function(Y){return!Y.disabled}),F=A.findIndex(function(Y){return Y.key===I})||0,G=A.length,q=0;q<G;q+=1){F=(F+y+G)%G;var ae=A[F];if(!ae.disabled){w(ae.key);return}}}function le(y){var A=y.which;if(!z){[ce.DOWN,ce.SPACE,ce.ENTER].includes(A)&&(D(!0),y.preventDefault());return}switch(A){case ce.UP:K(-1),y.preventDefault();break;case ce.DOWN:K(1),y.preventDefault();break;case ce.ESC:D(!1);break;case ce.SPACE:case ce.ENTER:I!==null&&R(I,y);break}}n.useEffect(function(){var y=document.getElementById(T);y&&y.scrollIntoView&&y.scrollIntoView(!1)},[I]),n.useEffect(function(){z||w(null)},[z]);var H=Q({},N?"marginRight":"marginLeft",$);i.length||(H.visibility="hidden",H.order=1);var X=Z(Q({},"".concat(b,"-rtl"),N)),te=s?null:n.createElement(Qt,me({prefixCls:b,overlay:S,visible:i.length?z:!1,onVisibleChange:D,overlayClassName:Z(X,p),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:E},c),n.createElement("button",{type:"button",className:"".concat(a,"-nav-more"),style:H,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":_,id:"".concat(r,"-more"),"aria-expanded":z,onKeyDown:le},x));return n.createElement("div",{className:Z("".concat(a,"-nav-operations"),f),style:u,ref:t},te,n.createElement(It,{prefixCls:a,locale:l,editable:g}))});const Aa=n.memo(Ba,function(e,t){return t.tabMoving});var Oa=function(t){var a=t.prefixCls,r=t.id,i=t.active,l=t.tab,s=l.key,o=l.label,c=l.disabled,u=l.closeIcon,f=l.icon,g=t.closable,$=t.renderWrapper,N=t.removeAriaLabel,k=t.editable,R=t.onClick,E=t.onFocus,p=t.style,v="".concat(a,"-tab"),j=Rt(g,u,k,c);function z(I){c||R(I)}function D(I){I.preventDefault(),I.stopPropagation(),k.onEdit("remove",{key:s,event:I})}var B=n.useMemo(function(){return f&&typeof o=="string"?n.createElement("span",null,o):o},[o,f]),W=n.createElement("div",{key:s,"data-node-key":Nt(s),className:Z(v,Q(Q(Q({},"".concat(v,"-with-remove"),j),"".concat(v,"-active"),i),"".concat(v,"-disabled"),c)),style:p,onClick:z},n.createElement("div",{role:"tab","aria-selected":i,id:r&&"".concat(r,"-tab-").concat(s),className:"".concat(v,"-btn"),"aria-controls":r&&"".concat(r,"-panel-").concat(s),"aria-disabled":c,tabIndex:c?null:0,onClick:function(w){w.stopPropagation(),z(w)},onKeyDown:function(w){[ce.SPACE,ce.ENTER].includes(w.which)&&(w.preventDefault(),z(w))},onFocus:E},f&&n.createElement("span",{className:"".concat(v,"-icon")},f),o&&B),j&&n.createElement("button",{type:"button","aria-label":N||"remove",tabIndex:0,className:"".concat(v,"-remove"),onClick:function(w){w.stopPropagation(),D(w)}},u||k.removeIcon||"×"));return $?$(W):W},Da=function(t,a){var r=t.offsetWidth,i=t.offsetHeight,l=t.offsetTop,s=t.offsetLeft,o=t.getBoundingClientRect(),c=o.width,u=o.height,f=o.x,g=o.y;return Math.abs(c-r)<1?[c,u,f-a.x,g-a.y]:[r,i,s,l]},we=function(t){var a=t.current||{},r=a.offsetWidth,i=r===void 0?0:r,l=a.offsetHeight,s=l===void 0?0:l;if(t.current){var o=t.current.getBoundingClientRect(),c=o.width,u=o.height;if(Math.abs(c-i)<1)return[c,u]}return[i,s]},ke=function(t,a){return t[a?0:1]},yt=n.forwardRef(function(e,t){var a=e.className,r=e.style,i=e.id,l=e.animated,s=e.activeKey,o=e.rtl,c=e.extra,u=e.editable,f=e.locale,g=e.tabPosition,$=e.tabBarGutter,N=e.children,k=e.onTabClick,R=e.onTabScroll,E=e.indicator,p=n.useContext(Be),v=p.prefixCls,j=p.tabs,z=n.useRef(null),D=n.useRef(null),B=n.useRef(null),W=n.useRef(null),I=n.useRef(null),w=n.useRef(null),L=n.useRef(null),x=g==="top"||g==="bottom",_=vt(0,function(O,P){x&&R&&R({direction:O>P?"left":"right"})}),b=M(_,2),T=b[0],V=b[1],ee=vt(0,function(O,P){!x&&R&&R({direction:O>P?"top":"bottom"})}),S=M(ee,2),K=S[0],le=S[1],H=n.useState([0,0]),X=M(H,2),te=X[0],y=X[1],A=n.useState([0,0]),F=M(A,2),G=F[0],q=F[1],ae=n.useState([0,0]),Y=M(ae,2),ue=Y[0],J=Y[1],fe=n.useState([0,0]),ve=M(fe,2),m=ve[0],h=ve[1],ne=ka(new Map),re=M(ne,2),_e=re[0],$e=re[1],Ne=Pa(j,_e,G[0]),Ae=ke(te,x),Ce=ke(G,x),Oe=ke(ue,x),Xe=ke(m,x),qe=Ae<Ce+Oe,se=qe?Ae-Xe:Ae-Oe,jt="".concat(v,"-nav-operations-hidden"),be=0,he=0;x&&o?(be=0,he=Math.max(0,Ce-se)):(be=Math.min(0,se-Ce),he=0);function De(O){return O<be?be:O>he?he:O}var We=n.useRef(null),kt=n.useState(),Je=M(kt,2),Re=Je[0],Ye=Je[1];function Fe(){Ye(Date.now())}function Ge(){We.current&&clearTimeout(We.current)}ja(W,function(O,P){function U(ie,xe){ie(function(ge){var Le=De(ge+xe);return Le})}return qe?(x?U(V,O):U(le,P),Ge(),Fe(),!0):!1}),n.useEffect(function(){return Ge(),Re&&(We.current=setTimeout(function(){Ye(0)},100)),Ge},[Re]);var zt=za(Ne,se,x?T:K,Ce,Oe,Xe,oe(oe({},e),{},{tabs:j})),Qe=M(zt,2),Mt=Qe[0],Bt=Qe[1],Ze=Zt(function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s,P=Ne.get(O)||{width:0,height:0,left:0,right:0,top:0};if(x){var U=T;o?P.right<T?U=P.right:P.right+P.width>T+se&&(U=P.right+P.width-se):P.left<-T?U=-P.left:P.left+P.width>-T+se&&(U=-(P.left+P.width-se)),le(0),V(De(U))}else{var ie=K;P.top<-K?ie=-P.top:P.top+P.height>-K+se&&(ie=-(P.top+P.height-se)),V(0),le(De(ie))}}),Ie={};g==="top"||g==="bottom"?Ie[o?"marginRight":"marginLeft"]=$:Ie.marginTop=$;var et=j.map(function(O,P){var U=O.key;return n.createElement(Oa,{id:i,prefixCls:v,key:U,tab:O,style:P===0?void 0:Ie,closable:O.closable,editable:u,active:U===s,renderWrapper:N,removeAriaLabel:f==null?void 0:f.removeAriaLabel,onClick:function(xe){k(U,xe)},onFocus:function(){Ze(U),Fe(),W.current&&(o||(W.current.scrollLeft=0),W.current.scrollTop=0)}})}),tt=function(){return $e(function(){var P,U=new Map,ie=(P=I.current)===null||P===void 0?void 0:P.getBoundingClientRect();return j.forEach(function(xe){var ge,Le=xe.key,lt=(ge=I.current)===null||ge===void 0?void 0:ge.querySelector('[data-node-key="'.concat(Nt(Le),'"]'));if(lt){var Ft=Da(lt,ie),je=M(Ft,4),Gt=je[0],Vt=je[1],Ht=je[2],Ut=je[3];U.set(Le,{width:Gt,height:Vt,left:Ht,top:Ut})}}),U})};n.useEffect(function(){tt()},[j.map(function(O){return O.key}).join("_")]);var Pe=Tt(function(){var O=we(z),P=we(D),U=we(B);y([O[0]-P[0]-U[0],O[1]-P[1]-U[1]]);var ie=we(L);J(ie);var xe=we(w);h(xe);var ge=we(I);q([ge[0]-ie[0],ge[1]-ie[1]]),tt()}),At=j.slice(0,Mt),Ot=j.slice(Bt+1),at=[].concat(ct(At),ct(Ot)),nt=Ne.get(s),Dt=Ia({activeTabOffset:nt,horizontal:x,indicator:E,rtl:o}),Wt=Dt.style;n.useEffect(function(){Ze()},[s,be,he,ht(nt),ht(Ne),x]),n.useEffect(function(){Pe()},[o]);var rt=!!at.length,Ee="".concat(v,"-nav-wrap"),Ve,He,it,ot;return x?o?(He=T>0,Ve=T!==he):(Ve=T<0,He=T!==be):(it=K<0,ot=K!==be),n.createElement(Ue,{onResize:Pe},n.createElement("div",{ref:ea(t,z),role:"tablist",className:Z("".concat(v,"-nav"),a),style:r,onKeyDown:function(){Fe()}},n.createElement(xt,{ref:D,position:"left",extra:c,prefixCls:v}),n.createElement(Ue,{onResize:Pe},n.createElement("div",{className:Z(Ee,Q(Q(Q(Q({},"".concat(Ee,"-ping-left"),Ve),"".concat(Ee,"-ping-right"),He),"".concat(Ee,"-ping-top"),it),"".concat(Ee,"-ping-bottom"),ot)),ref:W},n.createElement(Ue,{onResize:Pe},n.createElement("div",{ref:I,className:"".concat(v,"-nav-list"),style:{transform:"translate(".concat(T,"px, ").concat(K,"px)"),transition:Re?"none":void 0}},et,n.createElement(It,{ref:L,prefixCls:v,locale:f,editable:u,style:oe(oe({},et.length===0?void 0:Ie),{},{visibility:rt?"hidden":null})}),n.createElement("div",{className:Z("".concat(v,"-ink-bar"),Q({},"".concat(v,"-ink-bar-animated"),l.inkBar)),style:Wt}))))),n.createElement(Aa,me({},e,{removeAriaLabel:f==null?void 0:f.removeAriaLabel,ref:w,prefixCls:v,tabs:at,className:!rt&&jt,tabMoving:!!Re})),n.createElement(xt,{ref:B,position:"right",extra:c,prefixCls:v})))}),Pt=n.forwardRef(function(e,t){var a=e.prefixCls,r=e.className,i=e.style,l=e.id,s=e.active,o=e.tabKey,c=e.children;return n.createElement("div",{id:l&&"".concat(l,"-panel-").concat(o),role:"tabpanel",tabIndex:s?0:-1,"aria-labelledby":l&&"".concat(l,"-tab-").concat(o),"aria-hidden":!s,style:i,className:Z(a,s&&"".concat(a,"-active"),r),ref:t},c)}),Wa=["renderTabBar"],Fa=["label","key"],Ga=function(t){var a=t.renderTabBar,r=Me(t,Wa),i=n.useContext(Be),l=i.tabs;if(a){var s=oe(oe({},r),{},{panes:l.map(function(o){var c=o.label,u=o.key,f=Me(o,Fa);return n.createElement(Pt,me({tab:c,key:u,tabKey:u},f))})});return a(s,yt)}return n.createElement(yt,r)},Va=["key","forceRender","style","className","destroyInactiveTabPane"],Ha=function(t){var a=t.id,r=t.activeKey,i=t.animated,l=t.tabPosition,s=t.destroyInactiveTabPane,o=n.useContext(Be),c=o.prefixCls,u=o.tabs,f=i.tabPane,g="".concat(c,"-tabpane");return n.createElement("div",{className:Z("".concat(c,"-content-holder"))},n.createElement("div",{className:Z("".concat(c,"-content"),"".concat(c,"-content-").concat(l),Q({},"".concat(c,"-content-animated"),f))},u.map(function($){var N=$.key,k=$.forceRender,R=$.style,E=$.className,p=$.destroyInactiveTabPane,v=Me($,Va),j=N===r;return n.createElement(ta,me({key:N,visible:j,forceRender:k,removeOnLeave:!!(s||p),leavedClassName:"".concat(g,"-hidden")},i.tabPaneMotion),function(z,D){var B=z.style,W=z.className;return n.createElement(Pt,me({},v,{prefixCls:g,id:a,tabKey:N,animated:f,active:j,style:oe(oe({},R),B),className:Z(E,W),ref:D}))})})))};function Ua(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{inkBar:!0,tabPane:!1},t;return e===!1?t={inkBar:!1,tabPane:!1}:e===!0?t={inkBar:!0,tabPane:!1}:t=oe({inkBar:!0},Ke(e)==="object"?e:{}),t.tabPaneMotion&&t.tabPane===void 0&&(t.tabPane=!0),!t.tabPaneMotion&&t.tabPane&&(t.tabPane=!1),t}var Ka=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","more","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName","indicator"],St=0,Xa=n.forwardRef(function(e,t){var a=e.id,r=e.prefixCls,i=r===void 0?"rc-tabs":r,l=e.className,s=e.items,o=e.direction,c=e.activeKey,u=e.defaultActiveKey,f=e.editable,g=e.animated,$=e.tabPosition,N=$===void 0?"top":$,k=e.tabBarGutter,R=e.tabBarStyle,E=e.tabBarExtraContent,p=e.locale,v=e.more,j=e.destroyInactiveTabPane,z=e.renderTabBar,D=e.onChange,B=e.onTabClick,W=e.onTabScroll,I=e.getPopupContainer,w=e.popupClassName,L=e.indicator,x=Me(e,Ka),_=n.useMemo(function(){return(s||[]).filter(function(m){return m&&Ke(m)==="object"&&"key"in m})},[s]),b=o==="rtl",T=Ua(g),V=n.useState(!1),ee=M(V,2),S=ee[0],K=ee[1];n.useEffect(function(){K(aa())},[]);var le=dt(function(){var m;return(m=_[0])===null||m===void 0?void 0:m.key},{value:c,defaultValue:u}),H=M(le,2),X=H[0],te=H[1],y=n.useState(function(){return _.findIndex(function(m){return m.key===X})}),A=M(y,2),F=A[0],G=A[1];n.useEffect(function(){var m=_.findIndex(function(ne){return ne.key===X});if(m===-1){var h;m=Math.max(0,Math.min(F,_.length-1)),te((h=_[m])===null||h===void 0?void 0:h.key)}G(m)},[_.map(function(m){return m.key}).join("_"),X,F]);var q=dt(null,{value:a}),ae=M(q,2),Y=ae[0],ue=ae[1];n.useEffect(function(){a||(ue("rc-tabs-".concat(St)),St+=1)},[]);function J(m,h){B==null||B(m,h);var ne=m!==X;te(m),ne&&(D==null||D(m))}var fe={id:Y,activeKey:X,animated:T,tabPosition:N,rtl:b,mobile:S},ve=oe(oe({},fe),{},{editable:f,locale:p,more:v,tabBarGutter:k,onTabClick:J,onTabScroll:W,extra:E,style:R,panes:null,getPopupContainer:I,popupClassName:w,indicator:L});return n.createElement(Be.Provider,{value:{tabs:_,prefixCls:i}},n.createElement("div",me({ref:t,id:a,className:Z(i,"".concat(i,"-").concat(N),Q(Q(Q({},"".concat(i,"-mobile"),S),"".concat(i,"-editable"),f),"".concat(i,"-rtl"),b),l)},x),n.createElement(Ga,me({},ve,{renderTabBar:z})),n.createElement(Ha,me({destroyInactiveTabPane:j},fe,{animated:T}))))});const qa={motionAppear:!1,motionEnter:!0,motionLeave:!0};function Ja(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inkBar:!0,tabPane:!1},a;return t===!1?a={inkBar:!1,tabPane:!1}:t===!0?a={inkBar:!0,tabPane:!0}:a=Object.assign({inkBar:!0},typeof t=="object"?t:{}),a.tabPane&&(a.tabPaneMotion=Object.assign(Object.assign({},qa),{motionName:na(e,"switch")})),a}var Ya=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(a[r[i]]=e[r[i]]);return a};function Qa(e){return e.filter(t=>t)}function Za(e,t){if(e)return e;const a=ra(t).map(r=>{if(n.isValidElement(r)){const{key:i,props:l}=r,s=l||{},{tab:o}=s,c=Ya(s,["tab"]);return Object.assign(Object.assign({key:String(i)},c),{label:o})}return null});return Qa(a)}const en=e=>{const{componentCls:t,motionDurationSlow:a}=e;return[{[t]:{[`${t}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${a}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${a}`}}}}},[ut(e,"slide-up"),ut(e,"slide-down")]]},tn=e=>{const{componentCls:t,tabsCardPadding:a,cardBg:r,cardGutter:i,colorBorderSecondary:l,itemSelectedColor:s}=e;return{[`${t}-card`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{margin:0,padding:a,background:r,border:`${C(e.lineWidth)} ${e.lineType} ${l}`,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`},[`${t}-tab-active`]:{color:s,background:e.colorBgContainer},[`${t}-ink-bar`]:{visibility:"hidden"}},[`&${t}-top, &${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginLeft:{_skip_check_:!0,value:C(i)}}}},[`&${t}-top`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`${C(e.borderRadiusLG)} ${C(e.borderRadiusLG)} 0 0`},[`${t}-tab-active`]:{borderBottomColor:e.colorBgContainer}}},[`&${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`0 0 ${C(e.borderRadiusLG)} ${C(e.borderRadiusLG)}`},[`${t}-tab-active`]:{borderTopColor:e.colorBgContainer}}},[`&${t}-left, &${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginTop:C(i)}}},[`&${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${C(e.borderRadiusLG)} 0 0 ${C(e.borderRadiusLG)}`}},[`${t}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:e.colorBgContainer}}}},[`&${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${C(e.borderRadiusLG)} ${C(e.borderRadiusLG)} 0`}},[`${t}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:e.colorBgContainer}}}}}}},an=e=>{const{componentCls:t,itemHoverColor:a,dropdownEdgeChildVerticalPadding:r}=e;return{[`${t}-dropdown`]:Object.assign(Object.assign({},_t(e)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:e.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${t}-dropdown-menu`]:{maxHeight:e.tabsDropdownHeight,margin:0,padding:`${C(r)} 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:e.colorBgContainer,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,"&-item":Object.assign(Object.assign({},la),{display:"flex",alignItems:"center",minWidth:e.tabsDropdownWidth,margin:0,padding:`${C(e.paddingXXS)} ${C(e.paddingSM)}`,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:e.marginSM},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:a}},"&:hover":{background:e.controlItemBgHover},"&-disabled":{"&, &:hover":{color:e.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},nn=e=>{const{componentCls:t,margin:a,colorBorderSecondary:r,horizontalMargin:i,verticalItemPadding:l,verticalItemMargin:s,calc:o}=e;return{[`${t}-top, ${t}-bottom`]:{flexDirection:"column",[`> ${t}-nav, > div > ${t}-nav`]:{margin:i,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${C(e.lineWidth)} ${e.lineType} ${r}`,content:"''"},[`${t}-ink-bar`]:{height:e.lineWidthBold,"&-animated":{transition:`width ${e.motionDurationSlow}, left ${e.motionDurationSlow},
            right ${e.motionDurationSlow}`}},[`${t}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:e.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowRight},[`&${t}-nav-wrap-ping-left::before`]:{opacity:1},[`&${t}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${t}-top`]:{[`> ${t}-nav,
        > div > ${t}-nav`]:{"&::before":{bottom:0},[`${t}-ink-bar`]:{bottom:0}}},[`${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,marginTop:a,marginBottom:0,"&::before":{top:0},[`${t}-ink-bar`]:{top:0}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0}},[`${t}-left, ${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{flexDirection:"column",minWidth:o(e.controlHeight).mul(1.25).equal(),[`${t}-tab`]:{padding:l,textAlign:"center"},[`${t}-tab + ${t}-tab`]:{margin:s},[`${t}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:e.controlHeight},"&::before":{top:0,boxShadow:e.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:e.boxShadowTabsOverflowBottom},[`&${t}-nav-wrap-ping-top::before`]:{opacity:1},[`&${t}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${t}-ink-bar`]:{width:e.lineWidthBold,"&-animated":{transition:`height ${e.motionDurationSlow}, top ${e.motionDurationSlow}`}},[`${t}-nav-list, ${t}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{marginLeft:{_skip_check_:!0,value:C(o(e.lineWidth).mul(-1).equal())},borderLeft:{_skip_check_:!0,value:`${C(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:e.paddingLG}}}},[`${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,[`${t}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:o(e.lineWidth).mul(-1).equal()},borderRight:{_skip_check_:!0,value:`${C(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingRight:{_skip_check_:!0,value:e.paddingLG}}}}}},rn=e=>{const{componentCls:t,cardPaddingSM:a,cardPaddingLG:r,horizontalItemPaddingSM:i,horizontalItemPaddingLG:l}=e;return{[t]:{"&-small":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:i,fontSize:e.titleFontSizeSM}}},"&-large":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:l,fontSize:e.titleFontSizeLG}}}},[`${t}-card`]:{[`&${t}-small`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:a}},[`&${t}-bottom`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`0 0 ${C(e.borderRadius)} ${C(e.borderRadius)}`}},[`&${t}-top`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`${C(e.borderRadius)} ${C(e.borderRadius)} 0 0`}},[`&${t}-right`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${C(e.borderRadius)} ${C(e.borderRadius)} 0`}}},[`&${t}-left`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${C(e.borderRadius)} 0 0 ${C(e.borderRadius)}`}}}},[`&${t}-large`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:r}}}}}},on=e=>{const{componentCls:t,itemActiveColor:a,itemHoverColor:r,iconCls:i,tabsHorizontalItemMargin:l,horizontalItemPadding:s,itemSelectedColor:o,itemColor:c}=e,u=`${t}-tab`;return{[u]:{position:"relative",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",display:"inline-flex",alignItems:"center",padding:s,fontSize:e.titleFontSize,background:"transparent",border:0,outline:"none",cursor:"pointer",color:c,"&-btn, &-remove":Object.assign({"&:focus:not(:focus-visible), &:active":{color:a}},$t(e)),"&-btn":{outline:"none",transition:`all ${e.motionDurationSlow}`,[`${u}-icon:not(:last-child)`]:{marginInlineEnd:e.marginSM}},"&-remove":{flex:"none",marginRight:{_skip_check_:!0,value:e.calc(e.marginXXS).mul(-1).equal()},marginLeft:{_skip_check_:!0,value:e.marginXS},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"&:hover":{color:e.colorTextHeading}},"&:hover":{color:r},[`&${u}-active ${u}-btn`]:{color:o,textShadow:e.tabsActiveTextShadow},[`&${u}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed"},[`&${u}-disabled ${u}-btn, &${u}-disabled ${t}-remove`]:{"&:focus, &:active":{color:e.colorTextDisabled}},[`& ${u}-remove ${i}`]:{margin:0},[`${i}:not(:last-child)`]:{marginRight:{_skip_check_:!0,value:e.marginSM}}},[`${u} + ${u}`]:{margin:{_skip_check_:!0,value:l}}}},ln=e=>{const{componentCls:t,tabsHorizontalItemMarginRTL:a,iconCls:r,cardGutter:i,calc:l}=e;return{[`${t}-rtl`]:{direction:"rtl",[`${t}-nav`]:{[`${t}-tab`]:{margin:{_skip_check_:!0,value:a},[`${t}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[r]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:C(e.marginSM)}},[`${t}-tab-remove`]:{marginRight:{_skip_check_:!0,value:C(e.marginXS)},marginLeft:{_skip_check_:!0,value:C(l(e.marginXXS).mul(-1).equal())},[r]:{margin:0}}}},[`&${t}-left`]:{[`> ${t}-nav`]:{order:1},[`> ${t}-content-holder`]:{order:0}},[`&${t}-right`]:{[`> ${t}-nav`]:{order:0},[`> ${t}-content-holder`]:{order:1}},[`&${t}-card${t}-top, &${t}-card${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginRight:{_skip_check_:!0,value:i},marginLeft:{_skip_check_:!0,value:0}}}}},[`${t}-dropdown-rtl`]:{direction:"rtl"},[`${t}-menu-item`]:{[`${t}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},sn=e=>{const{componentCls:t,tabsCardPadding:a,cardHeight:r,cardGutter:i,itemHoverColor:l,itemActiveColor:s,colorBorderSecondary:o}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},_t(e)),{display:"flex",[`> ${t}-nav, > div > ${t}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${t}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${e.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${t}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${e.motionDurationSlow}`},[`${t}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${t}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${t}-nav-more`]:{position:"relative",padding:a,background:"transparent",border:0,color:e.colorText,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:e.calc(e.controlHeightLG).div(8).equal(),transform:"translateY(100%)",content:"''"}},[`${t}-nav-add`]:Object.assign({minWidth:r,minHeight:r,marginLeft:{_skip_check_:!0,value:i},padding:`0 ${C(e.paddingXS)}`,background:"transparent",border:`${C(e.lineWidth)} ${e.lineType} ${o}`,borderRadius:`${C(e.borderRadiusLG)} ${C(e.borderRadiusLG)} 0 0`,outline:"none",cursor:"pointer",color:e.colorText,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`,"&:hover":{color:l},"&:active, &:focus:not(:focus-visible)":{color:s}},$t(e))},[`${t}-extra-content`]:{flex:"none"},[`${t}-ink-bar`]:{position:"absolute",background:e.inkBarColor,pointerEvents:"none"}}),on(e)),{[`${t}-content`]:{position:"relative",width:"100%"},[`${t}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${t}-tabpane`]:{outline:"none","&-hidden":{display:"none"}}}),[`${t}-centered`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-nav-wrap`]:{[`&:not([class*='${t}-nav-wrap-ping'])`]:{justifyContent:"center"}}}}}},cn=e=>{const t=e.controlHeightLG;return{zIndexPopup:e.zIndexPopupBase+50,cardBg:e.colorFillAlter,cardHeight:t,cardPadding:`${(t-Math.round(e.fontSize*e.lineHeight))/2-e.lineWidth}px ${e.padding}px`,cardPaddingSM:`${e.paddingXXS*1.5}px ${e.padding}px`,cardPaddingLG:`${e.paddingXS}px ${e.padding}px ${e.paddingXXS*1.5}px`,titleFontSize:e.fontSize,titleFontSizeLG:e.fontSizeLG,titleFontSizeSM:e.fontSize,inkBarColor:e.colorPrimary,horizontalMargin:`0 0 ${e.margin}px 0`,horizontalItemGutter:32,horizontalItemMargin:"",horizontalItemMarginRTL:"",horizontalItemPadding:`${e.paddingSM}px 0`,horizontalItemPaddingSM:`${e.paddingXS}px 0`,horizontalItemPaddingLG:`${e.padding}px 0`,verticalItemPadding:`${e.paddingXS}px ${e.paddingLG}px`,verticalItemMargin:`${e.margin}px 0 0 0`,itemColor:e.colorText,itemSelectedColor:e.colorPrimary,itemHoverColor:e.colorPrimaryHover,itemActiveColor:e.colorPrimaryActive,cardGutter:e.marginXXS/2}},dn=ia("Tabs",e=>{const t=oa(e,{tabsCardPadding:e.cardPadding,dropdownEdgeChildVerticalPadding:e.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120,tabsHorizontalItemMargin:`0 0 0 ${C(e.horizontalItemGutter)}`,tabsHorizontalItemMarginRTL:`0 0 0 ${C(e.horizontalItemGutter)}`});return[rn(t),ln(t),nn(t),an(t),tn(t),sn(t),en(t)]},cn),un=()=>null;var fn=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(a[r[i]]=e[r[i]]);return a};const Lt=e=>{var t,a,r,i,l,s,o,c,u,f,g;const{type:$,className:N,rootClassName:k,size:R,onEdit:E,hideAdd:p,centered:v,addIcon:j,removeIcon:z,moreIcon:D,more:B,popupClassName:W,children:I,items:w,animated:L,style:x,indicatorSize:_,indicator:b}=e,T=fn(e,["type","className","rootClassName","size","onEdit","hideAdd","centered","addIcon","removeIcon","moreIcon","more","popupClassName","children","items","animated","style","indicatorSize","indicator"]),{prefixCls:V}=T,{direction:ee,tabs:S,getPrefixCls:K,getPopupContainer:le}=n.useContext(sa),H=K("tabs",V),X=ca(H),[te,y,A]=dn(H,X);let F;$==="editable-card"&&(F={onEdit:(fe,ve)=>{let{key:m,event:h}=ve;E==null||E(fe==="add"?h:m,fe)},removeIcon:(t=z??(S==null?void 0:S.removeIcon))!==null&&t!==void 0?t:n.createElement(da,null),addIcon:(j??(S==null?void 0:S.addIcon))||n.createElement(Ra,null),showAdd:p!==!0});const G=K(),q=ua(R),ae=Za(w,I),Y=Ja(H,L),ue=Object.assign(Object.assign({},S==null?void 0:S.style),x),J={align:(a=b==null?void 0:b.align)!==null&&a!==void 0?a:(r=S==null?void 0:S.indicator)===null||r===void 0?void 0:r.align,size:(o=(l=(i=b==null?void 0:b.size)!==null&&i!==void 0?i:_)!==null&&l!==void 0?l:(s=S==null?void 0:S.indicator)===null||s===void 0?void 0:s.size)!==null&&o!==void 0?o:S==null?void 0:S.indicatorSize};return te(n.createElement(Xa,Object.assign({direction:ee,getPopupContainer:le},T,{items:ae,className:Z({[`${H}-${q}`]:q,[`${H}-card`]:["card","editable-card"].includes($),[`${H}-editable-card`]:$==="editable-card",[`${H}-centered`]:v},S==null?void 0:S.className,N,k,y,A,X),popupClassName:Z(W,y,A,X),style:ue,editable:F,more:Object.assign({icon:(g=(f=(u=(c=S==null?void 0:S.more)===null||c===void 0?void 0:c.icon)!==null&&u!==void 0?u:S==null?void 0:S.moreIcon)!==null&&f!==void 0?f:D)!==null&&g!==void 0?g:n.createElement(fa,null),transitionName:`${G}-slide-up`},B),prefixCls:H,animated:Y,indicator:J})))};Lt.TabPane=un;const mn=({rangeData:e})=>{const{t}=wt(),{context:a}=Ct(),{operate:r}=a||{},{decimals:i}=Et(r.splBalanceEmitter)??{},l=n.useRef(null);return n.useEffect(()=>{const s=e&&e.length>0?e.map(f=>[new Date(f.optimalTime).toLocaleString("zh-CN",{hour12:!1}),Number(de(f.downOptimalStakeNum,i))]):[],o=e&&e.length>0?e.map(f=>[new Date(f.optimalTime).toLocaleString("zh-CN",{hour12:!1}),Number(de(f.upOptimalStakeNum-f.downOptimalStakeNum,i))]):[],c=_a(l.current),u={tooltip:{trigger:"axis",axisPointer:{type:"line",label:{backgroundColor:"#1d1d1d"}},backgroundColor:"#1D1D1D",borderWidth:0,className:"!p-0 rounded-xl overflow-hidden",textStyle:{color:"#FFFFFF"},formatter:function(f){return`<div class='font-Urbanist'>
                    <p class='bg-black border-b border-[#3A3A3A] leading-8 px-3'>${f[0].axisValueLabel}</p>
                    <p class='flex items-center px-3 h-9 gap-2'><i class='block w-3 h-3 rounded-full bg-[#5CF5B5]'></i><span class='mr-auto text-sm'>${f[1].seriesName} : ${Math.round(f[0].data[1]*100+f[1].data[1]*100)/100} JVSC</span></p>
                    <p class='flex items-center px-3 h-9 gap-2'><i class='block w-3 h-3 rounded-full bg-[#E27625]'></i><span class='mr-auto text-sm'>${f[0].seriesName} : ${f[0].data[1]} JVSC</span></p>
                    </div>`}},legend:{right:0,icon:"circle",itemWidth:12,itemHeight:12,textStyle:{color:"#FFFFFF"},selectedMode:!1,data:[{name:t("node.upper_bound")},{name:t("node.lower_bound")}]},grid:{left:"0",right:"10px",top:"40px",bottom:"0",containLabel:!0},color:["#E27625","#5CF5B5"],xAxis:{type:"time",boundaryGap:!1,axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1}},yAxis:[{type:"value",splitLine:{show:!0,lineStyle:{color:["#313131"]}}}],series:[{name:t("node.lower_bound"),type:"line",stack:"Total",symbol:"none",areaStyle:{opacity:0},step:"end",data:s},{name:t("node.upper_bound"),type:"line",stack:"Total",symbol:"none",areaStyle:{color:new $a(0,0,0,1,[{offset:0,color:"rgba(92,245,181,0.56)"},{offset:1,color:"rgba(50,116,86,0.24)"}])},step:"end",data:o}]};c.clear(),c.setOption(u,!0)},[e,i]),d.jsx("div",{className:"h-full w-full",ref:l})},vn=()=>pa("/pow/web3b/unSignweb/node/number"),bn=()=>Se("/pow/web3b/signWeb/node/number",{connectInfo:Te("solana_provider")}),gn=e=>Se("/pow/web3b/signWeb/node/page",{...e,connectInfo:Te("solana_provider")}),pn=e=>Se("/pow/web3b/unSignweb/node/page",{...e}),hn=e=>Se("/pow/web3b/unSignweb/staking/range",e),xn=()=>Se("/pow/web3b/signWeb/walletPowCanClaimed",{...Te("solana_provider")}),yn=()=>Se("/pow/web3b/signWeb/walletPowClaim",{...Te("solana_provider")}),Sn=e=>Se("/pow/web3b/signWeb/myRewards",{...e,connectInfo:Te("solana_provider")}),In=()=>{const e=n.useRef(null),t=ma(),{t:a}=wt(),{context:r}=Ct(),{evaluation:i,operate:l}=r||{},{decimals:s}=Et(l.splBalanceEmitter)??{},o=n.useMemo(()=>!!(i&&window.solana),[i]),{data:c}=pe(vn,{debounceWait:300}),{data:u,runAsync:f}=pe(bn,{debounceWait:300,manual:!0}),{runAsync:g}=pe(pn,{debounceWait:300,manual:!0}),{runAsync:$}=pe(gn,{debounceWait:300,manual:!0}),{data:N,loading:k,runAsync:R}=pe(hn,{debounceWait:300,manual:!0}),{data:E,runAsync:p}=pe(xn,{debounceWait:300,manual:!0}),{loading:v,runAsync:j}=pe(yn,{debounceWait:300,manual:!0}),{runAsync:z}=pe(Sn,{debounceWait:300,manual:!0}),[D,B]=n.useState([]),[W,I]=n.useState(1),[w,L]=n.useState(0),[x,_]=n.useState(1),[b,T]=n.useState("all"),[V,ee]=n.useState(""),[S,K]=n.useState("computing"),le=[{key:"all",label:a("node.all_nodes")},{key:"my",label:a("node.my_nodes")},{key:"rewards",label:a("node.my_rewards")}],H=[{title:a("node.node_id"),dataIndex:"nodeId",key:"nodeId",width:300},{title:a("node.type"),dataIndex:"type",key:"type",width:120,render:()=>d.jsx(wa,{bordered:!1,color:"success",className:"font-Urbanist text-base font-bold leading-7 !text-[#2AEDA7]",children:"Computing"})},{title:a("node.reward_multiplier"),dataIndex:"currentRewardMultiplier",key:"currentRewardMultiplier",width:180},{title:a("node.success_rate"),dataIndex:"successRate",key:"successRate",width:120,render:(m,{successRate:h})=>d.jsxs("span",{children:[(h*100).toFixed(2),"%"]})},{title:a("node.succeeded"),dataIndex:"succeeded",key:"succeeded",width:120},{title:a("node.last_update"),dataIndex:"lastUpdate",key:"lastUpdate",width:200},{title:"",dataIndex:"operation",width:160,render:(m,{nodeId:h})=>d.jsxs("div",{className:"flex",children:[d.jsx(ft,{type:"text",className:"underline",size:"small",onClick:()=>t(`/node/detail?nodeId=${h}`),children:a("node.details")}),b==="my"&&d.jsx(ft,{type:"text",size:"small",className:"underline",onClick:()=>{T("rewards"),ee(h),J("rewards",h)},children:a("earn.history")})]})}],X=[{title:"Date",dataIndex:"date",key:"date",width:200,render:(m,{date:h})=>d.jsx(d.Fragment,{children:h==null?void 0:h.substring(0,10).replace("T"," ")})},{title:a("node.node_id"),dataIndex:"nodeId",key:"nodeId",width:300},{title:"Released",dataIndex:"released",key:"released",width:200,render:(m,{released:h})=>d.jsx(d.Fragment,{children:h?de(h,s):"--"})},{title:"Locked",dataIndex:"locked",key:"locked",width:200,render:(m,{locked:h})=>d.jsx(d.Fragment,{children:h?de(h,s):"--"})},{title:a("node.success_rate"),dataIndex:"successRate",key:"successRate",width:200,render:(m,{successRate:h})=>d.jsxs("span",{children:[(h*100).toFixed(2),"%"]})}],[te,y]=n.useState(!1),[A,F]=n.useState(!1),[G,q]=n.useState(!0),[ae,Y]=n.useState(0);ha(async()=>{await R({type:1});const{records:m,total:h}=await g({current:1,pageSize:20,nodeId:V});B(m),L(h)}),n.useEffect(()=>{i?(async()=>{if(await f(),await p(),b==="my"){const{records:m,total:h}=await $({current:1,pageSize:20,nodeId:V});B(m),L(h)}})():b!=="all"&&(ee(""),T("all"),J("all",""))},[i]);const ue=async m=>{ee(""),T(m),J(m,V)},J=async(m,h,ne=1)=>{console.log("handleSearch"),B([]);const{records:re,total:_e}=m==="all"?await g({current:ne,pageSize:20,nodeId:h}):m==="my"?await $({current:ne,pageSize:20,nodeId:h}):await z({current:ne,pageSize:20,nodeId:h});B(re),L(_e),I(ne)},fe=async()=>{if(te)return;y(!0);try{const{availableToClaim:re}=await p();if(re===0){va.error(a("common.not_enough")),y(!1);return}}catch(re){console.log(re),y(!1)}if(!o){y(!1);return}const m=window.commonInfo.current().signerAddress,h=window.commonInfo.current().stakeOutFee,ne=window.solana.publicKey.toBase58();if(!(ne&&window.solana.publicKey.toBase58())){y(!1);return}try{const re=await ba(ne,m,h);re.add(ga("WEBT_CLAIM_POW"));const _e=await window.solana.signAndSendTransaction(re);if(!_e){y(!1);return}console.log("【pow claim】"+m+" fee signature:"+JSON.stringify(_e));const $e=await j().finally(()=>y(!1));ve(!!$e,$e?Number(de($e.totalWalletPowClaim,s)):null),$e&&await p()}catch(re){console.log(re),y(!1)}},ve=(m,h)=>{q(m),m&&Y(h),F(!0)};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"content relative mx-auto w-full",children:[d.jsxs("div",{className:"first-box mx-auto mb-6 mt-16 flex w-full max-w-352.5 items-center justify-start gap-4.5",children:[d.jsxs(ye,{className:"total-card !mx-0 flex h-[10.625rem] flex-1 flex-col items-start justify-center gap-6 px-10 font-Urbanist",children:[d.jsx("p",{className:"text-left text-lg leading-5 text-[#B1B1B1]",children:a("node.total_nodes")}),d.jsx("p",{className:"larger-text text-4xl font-bold",children:c?c.totalNodeNumber:"--"})]}),d.jsxs(ye,{className:"total-card !mx-0 flex h-[10.625rem] flex-1 flex-col items-start justify-center gap-6 px-10 font-Urbanist",children:[d.jsxs("p",{className:"flex cursor-pointer gap-1 text-lg leading-5 text-[#B1B1B1]",onClick:()=>{o&&(ue("my"),e.current.scrollIntoView({behavior:"smooth"}))},children:[a("node.my_nodes")," ",d.jsx("i",{className:"i-ri:arrow-right-up-line text-base leading-none !text-white"})]}),d.jsx("p",{className:"text-4xl font-bold",children:o&&u?u.selfNodeNumber:"--"})]})]}),d.jsxs("div",{className:"second-box mx-auto mb-32 flex w-full max-w-352.5 items-center justify-start gap-4.5",children:[d.jsxs(ye,{className:"total-card !mx-0 flex h-[10.625rem] flex-1 flex-col items-start justify-center gap-6 px-10 font-Urbanist",children:[d.jsx("p",{className:"total-card-title rounded bg-[rgba(43,111,82,0.26)] px-2 py-1 text-left text-lg font-semibold leading-5 text-[#5CF5B5]",children:a("node.released_reward")}),d.jsxs("p",{className:"larger-text text-4xl font-bold",children:[o&&E?de(E.releasedReward,s):"--",d.jsx("span",{className:"ml-1.5 text-xl leading-6 text-[#959595]",children:"JVSC"})]})]}),d.jsxs(ye,{className:"total-card !mx-0 flex h-[10.625rem] flex-1 flex-col items-start justify-center gap-6 px-10 font-Urbanist",children:[d.jsx("p",{className:"total-card-title rounded bg-[rgba(68,68,68,0.26)] px-2 py-1 text-left text-lg font-semibold leading-5 text-[#B1B1B1]",children:a("node.locked_token")}),d.jsxs("p",{className:"larger-text text-4xl font-bold",children:[o&&E?de(E.lockedToken,s):"--",d.jsx("span",{className:"ml-1.5 text-xl leading-6 text-[#959595]",children:"JVSC"})]})]}),d.jsxs(ye,{className:"total-card !mx-0 flex h-[10.625rem] flex-1 flex-col items-start justify-center gap-6 px-10 font-Urbanist",children:[d.jsx("p",{className:"total-card-title rounded bg-[rgba(43,111,82,0.26)] px-2 py-1 text-left text-lg font-semibold leading-5 text-[#5CF5B5]",children:a("node.available_to_claim")}),d.jsxs("div",{className:"flex w-full items-center justify-between",children:[d.jsxs("p",{className:"larger-text text-4xl font-bold",children:[o&&E?de(E.availableToClaim,s):"--",d.jsx("span",{className:"ml-1.5 text-xl leading-6 text-[#959595]",children:"JVSC"})]}),d.jsxs("div",{className:`total-claim flex h-9 w-32 items-center justify-center gap-1.5 rounded-lg border text-xl font-bold text-white ${o?v||te?"cursor-not-allowed border-[#9B40F7] bg-[#1E1E1E]":E&&E.availableToClaim>0?"cursor-pointer border-[#9B40F7] bg-[#9B40F7]":"cursor-not-allowed border-[rgba(144,144,144,0.3)] bg-[#1E1E1E]":"cursor-pointer border-[rgba(144,144,144,0.3)] bg-[#1E1E1E]"}`,onClick:()=>{if(!o){l==null||l.connect();return}E&&E.availableToClaim>0&&fe()},children:[v||te&&d.jsx("img",{className:"block h-5 w-5 animate-spin object-contain",src:`${OSS_URL}/images/loading.svg`,alt:"load"}),a(v||te?"earn.claiming":"earn.claim")]})]})]})]}),d.jsx(ya,{title:a("node.staking_range"),className:"staking"}),d.jsxs(ye,{className:"card-chart mb-36",children:[d.jsxs("div",{className:"optimal relative mb-4 px-14 pt-7",children:[d.jsx("p",{className:"lg-text mb-3 font-Urbanist text-base leading-5 text-[#999898]",children:a("node.optimal_staking_range")}),d.jsx("p",{className:"border-b border-solid border-[rgba(255,255,255,0.2)] pb-4 font-Urbanist text-[2rem] font-bold leading-10",children:N&&N.length>0?`${de(N[N.length-1].downOptimalStakeNum,s)} - ${de(N[N.length-1].upOptimalStakeNum,s)} JVSC`:"--"}),d.jsxs("div",{className:"right-list absolute bottom-4 right-14 flex gap-1 rounded-3xl border border-[#616161] p-1 font-Urbanist text-lg font-medium text-[#8E8E8E]",children:[d.jsx("div",{className:`cursor-pointer px-4 text-center leading-10 ${x===1?"rounded-3xl bg-[#9B40F7] text-white":""}`,onClick:()=>{k||(_(1),R({type:1}))},children:"1 Day"}),d.jsx("div",{className:`cursor-pointer px-4 text-center leading-10 ${x===2?"rounded-3xl bg-[#9B40F7] text-white":""}`,onClick:()=>{k||(_(2),R({type:2}))},children:"1 Week"}),d.jsx("div",{className:`cursor-pointer px-4 text-center leading-10 ${x===3?"rounded-3xl bg-[#9B40F7] text-white":""}`,onClick:()=>{k||(_(3),R({type:3}))},children:"1 Month"}),d.jsx("div",{className:`cursor-pointer px-4 text-center leading-10 ${x===4?"rounded-3xl bg-[#9B40F7] text-white":""}`,onClick:()=>{k||(_(4),R({type:4}))},children:"All"})]})]}),d.jsx("div",{className:"chart-box h-[25.5rem] w-full px-14",children:d.jsx(mn,{rangeData:N})}),d.jsx("div",{className:"chart-text mt-15 border-t border-solid border-[rgba(137,137,137,0.19)] px-14 py-5 font-Urbanist text-base leading-5",children:a("node.earn_up_to")})]}),d.jsx("div",{ref:e,className:"node-list mb-16 flex items-center justify-center gap-5",children:d.jsx("span",{className:"font-Urbanist text-6xl font-bold leading-[4.75ren] text-white",children:a("node.node_list")})}),d.jsxs(ye,{className:"table-card mb-30 p-10",children:[d.jsx(Lt,{activeKey:b,items:le,onChange:async m=>{o&&ue(m)}}),d.jsxs("div",{className:"input-box",children:[d.jsx(Ca,{className:"table-input w-80",placeholder:a("node.search_ids"),prefix:d.jsx("i",{className:"i-ri:search-line text-base leading-none !text-[#8D9094]"}),size:"large",value:V,onChange:m=>{ee(m.target.value),J(b,m.target.value)},onPressEnter:()=>J(b,V)}),d.jsx(Ea,{className:`ml-4 ${b==="rewards"?"hidden":""}`,value:S,style:{width:146},onChange:m=>{K(m)},options:[{value:"computing",label:a("node.computing")}],size:"large"})]}),d.jsx(Sa,{rowKey:"nodeId",columns:b!=="rewards"?H:X,dataSource:D,scroll:{x:"max-content"},pagination:{position:["bottomCenter"],pageSize:20,showSizeChanger:!1,current:W,total:w,onChange:m=>J(b,V,m)},locale:{emptyText:d.jsx("p",{className:"py-14 font-Urbanist text-base text-white",children:"No data"})}})]})]}),d.jsx(xa,{open:A,icon:`${OSS_URL}/images/${G?"confirm_success":"confirm_error"}.png`,title:a(G?"node.congratulations":"node.claiming_failed"),desc:a(G?"node.tip1":"node.tip2"),okText:G?"OK":"Close",onOk:()=>F(!1),onCancel:()=>F(!1),children:d.jsx("div",{className:"mb-36 flex items-center justify-center font-Urbanist text-2xl font-bold text-white",children:G?`${ae} JVSC`:""})})]})};export{In as default};
